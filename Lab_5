#include <iostream>
using namespace std;

struct item //описываем структуру элемента списка 
{
    item* next; //указатель на след элемент
    int key; //значение в текущем элементе
};

void Add(item* L, int x) // функция добавления в список - из методички
{
    item* newitem = new item;
    newitem->key = x;
    newitem->next = L->next;
    L->next = newitem;
}

item* Delete(item* L) // функция удаления из списка - из методички
{
    item* deleted;
    deleted = L->next;
    L->next = L->next->next;
    return deleted;
}

item* Find(item* L, int v) //функция поиска значения в списке
{
    item * curr = L; //заводим переменную curr - изначально равна указателю на начало списка
    while (curr != NULL) //по в переменной curr - указатель на существующий элемент
    {
        if (curr->key == v) //если значение по указателю совпадает с искомым
            return curr; //возвращаем этот указатель
        curr = curr->next; //иначе идем к следующему элементу
    }
    return NULL; //если мы не вернули указатель, но прошлись по всем элементам - значит искомого значения нет - возвращаем NULL
    
}

int main()
{
    item L = {NULL, 0}; //создаем начальный элемент списка
    const int n = 5; //создаем переменную, в которой хранится размер массива
    int mas[5] = {1,2,3,4,5}; //создаем массив
    for (int i = 0; i < n; i++) //проходим по всем элементам массива с помощью i от 0 до n
        Add(&L,mas[i]); //добавляем в список i-й элемент
    item* f = Find(&L, 5); //ищем в списке 5 и сохраняем результат в f
    if (f != NULL) //если нашли
        cout « "Found: " « f->key « endl; //пишем что нашли
    else //иначе
        cout « "key not found" « endl; //пишем что не нашли
    f = Find(&L, 4); //ищем 4
    if (f != NULL) //если нашли
    {
        cout « "Found: " « f->key « endl; //пишем что нашли
        f = Delete(f); //удаляем следующий после 4 элемент и сохраняем в f удаленный элемент
        if (f != NULL) //если он существует
           {
               cout « "Deleted " « f->key « endl; //пишем что удалили
               delete f; // освобождаем память
           }
    }
    else //иначе
        cout « "key not found" « endl; //пишем что не нашли 4
 return 0;
}
